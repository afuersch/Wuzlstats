!function(e,a){e.autoPageReload=function(e){e||(e=9e5);var n=(new Date).getTime();a(document.body).bind("mousemove keypress",function(){n=(new Date).getTime()}),setInterval(function(){(new Date).getTime()-n>=e&&window.location.reload(!0)},1e3)}}(window.app=window.app||{},jQuery),function(e,a){var n;e.config={init:function(e){n=e},getPlayerUrl:function(){return n}}}(window.app=window.app||{},jQuery),function(e,a){e.renderPlayerRanking=function(n,l){n=a(n).addClass("ranking").addClass("player-ranking").html(""),a.each(l,function(l,o){var r=a("<li />");r.append(a('<a href="'+e.config.getPlayerUrl().replace("[id]",o.id)+'"></a>').append(a("<img />").attr("src","data:image/png;base64,"+o.image).addClass("ranking-image"))),r.append(a("<div />").html(o.name).addClass("ranking-name"));var i=a("<div />").addClass("ranking-score");i.append(a("<span />").html(o.wins).append('<span class="glyphicon glyphicon-thumbs-up" />').addClass("ranking-wins")),i.append(a("<span />").html(o.losses).append('<span class="glyphicon glyphicon-thumbs-down" />').addClass("ranking-losses")),r.append(i),n.append(r)})}}(window.app=window.app||{},jQuery),function(e,a){function n(e){var n=a(e).val();return""===n?(a(e).focus(),null):n}function l(){var n=a("#playersDatalist");e.apiHub.client.reloadPlayers=function(e){console.log("Refreshing players datalist ..."),n.empty(),a.each(e.players,function(e,l){n.append(a("<option></option>").html(l))})}}e.displayScoreForTwoPlayers=function(){a("#twoPlayersScore").show(),a("#fourPlayersScore").hide(),a("#redTeamScore").val(""),a("#blueTeamScore").val(""),a("#redTeamOffense").val(""),a("#redTeamDefense").val(""),a("#blueTeamOffense").val(""),a("#blueTeamDefense").val("")},e.displayScoreForFourPlayers=function(){a("#twoPlayersScore").hide(),a("#fourPlayersScore").show(),a("#redPlayerScore").val(""),a("#bluePlayerScore").val(""),a("#redPlayer").val(""),a("#bluePlayer").val("")},e.initScore=function(o){l(o),e.apiHub.client.scorePosted=function(){console.log("Score posted.")},a("#twoPlayersButton").change(function(){e.displayScoreForTwoPlayers()}),a("#fourPlayersButton").change(function(){e.displayScoreForFourPlayers()});var r=a("#submitScore");r.click(function(){var l=null;if(a("#twoPlayersScore").is(":visible")){var i=n("#redPlayerScore"),s=n("#bluePlayerScore"),d=n("#redPlayer"),p=n("#bluePlayer");i&&s&&d&&p&&(l={redPlayerScore:i,bluePlayerScore:s,redPlayer:d,bluePlayer:p})}else{var t=n("#redTeamScore"),c=n("#blueTeamScore"),u=n("#redTeamOffense"),g=n("#blueTeamOffense"),f=n("#redTeamDefense"),y=n("#blueTeamDefense");t&&c&&u&&g&&f&&y&&(l={redTeamScore:t,blueTeamScore:c,redTeamOffense:u,blueTeamOffense:g,redTeamDefense:f,blueTeamDefense:y})}l&&(r.hide(),e.apiHub.server.postScore(o,l).done(function(){a(".player").val(""),a(".score").val("")}).always(function(){r.show()}).fail(function(e){alert("Post score failed.\n\n"+e)}))})}}(window.app=window.app||{},jQuery),function(e,a){var n=null;e.initSignalR=function(){e.apiHub=a.connection.apiHub,e.apiHub.client.leagueJoined=function(e){console.log("League "+e+" joined.")},e.apiHub.client.reloadStatistics=function(){console.log("relead stats, but from league hub.")}},e.connectSignalR=function(l){console.log("Connecting to SignalR ..."),a.connection.hub.start().done(function(){n&&e.apiHub.server.leaveLeague(n),e.apiHub.server.joinLeague(l).done(function(){console.log("League "+l+" joined.")})})},e.apiHub=null}(window.app=window.app||{},jQuery),function(e,a){e.renderTeamRanking=function(n,l){n=a(n).addClass("ranking").addClass("team-ranking").html(""),a.each(l,function(l,o){var r=a("<li />");r.append(a('<a href="'+e.config.getPlayerUrl().replace("[id]",o.player1.id)+'"></a>').append(a("<img />").attr("src","data:image/png;base64,"+o.player1.image).addClass("ranking-image"))),r.append(a('<a href="'+e.config.getPlayerUrl().replace("[id]",o.player2.id)+'"></a>').append(a("<img />").attr("src","data:image/png;base64,"+o.player2.image).addClass("ranking-image"))),r.append(a("<div />").html(o.player1.name).addClass("ranking-name")),r.append(a("<div />").html(o.player2.name).addClass("ranking-name"));var i=a("<div />").addClass("ranking-score");i.append(a("<span />").html(o.wins).append('<span class="glyphicon glyphicon-thumbs-up" />').addClass("ranking-wins")),i.append(a("<span />").html(o.losses).append('<span class="glyphicon glyphicon-thumbs-down" />').addClass("ranking-losses")),r.append(i),n.append(r)})}}(window.app=window.app||{},jQuery);
//# sourceMappingURL=app.js.map