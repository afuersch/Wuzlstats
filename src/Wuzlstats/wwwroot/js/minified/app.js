!function(e,a){e.autoPageReload=function(e){e||(e=9e5);var n=(new Date).getTime();a(document.body).bind("mousemove keypress",function(){n=(new Date).getTime()}),setInterval(function(){(new Date).getTime()-n>=e&&window.location.reload(!0)},1e3)}}(window.app=window.app||{},jQuery),function(e,a){var n;e.config={init:function(e){n=e},getPlayerUrl:function(){return n}}}(window.app=window.app||{},jQuery),function(e,a){e.renderPlayerRanking=function(n,r){n=a(n).addClass("ranking").addClass("player-ranking").html(""),a.each(r,function(r,l){var o=a("<li />");o.append(a('<a href="'+e.config.getPlayerUrl().replace("[id]",l.id)+'"></a>').append(a("<img />").attr("src","data:image/png;base64,"+l.image).addClass("ranking-image"))),o.append(a("<div />").html(l.name).addClass("ranking-name"));var i=a("<div />").addClass("ranking-score");i.append(a("<span />").html(l.wins).append('<span class="glyphicon glyphicon-thumbs-up" />').addClass("ranking-wins")),i.append(a("<span />").html(l.losses).append('<span class="glyphicon glyphicon-thumbs-down" />').addClass("ranking-losses")),o.append(i),n.append(o)})}}(window.app=window.app||{},jQuery),function(e,a){function n(e){var n=a(e).val();return""===n?(a(e).focus(),null):n}function r(){var n=a("#playersDatalist");e.apiHub.client.reloadPlayers=function(e){console.log("Refreshing players datalist ..."),n.empty(),a.each(e.players,function(e,r){n.append(a("<option></option>").html(r))})}}e.displayScoreForTwoPlayers=function(){a("#twoPlayersScore").show(),a("#fourPlayersScore").hide(),a("#redTeamScore").val(""),a("#blueTeamScore").val(""),a("#redTeamOffense").val(""),a("#redTeamDefense").val(""),a("#blueTeamOffense").val(""),a("#blueTeamDefense").val("")},e.displayScoreForFourPlayers=function(){a("#twoPlayersScore").hide(),a("#fourPlayersScore").show(),a("#redPlayerScore").val(""),a("#bluePlayerScore").val(""),a("#redPlayer").val(""),a("#bluePlayer").val("")},e.initScore=function(l){r(l),e.apiHub.client.scorePosted=function(){console.log("Score posted.")},a("#twoPlayersButton").change(function(){e.displayScoreForTwoPlayers()}),a("#fourPlayersButton").change(function(){e.displayScoreForFourPlayers()});var o=a("#submitScore");o.click(function(){var r=null;if(a("#twoPlayersScore").is(":visible")){var i=n("#redPlayerScore"),s=n("#bluePlayerScore"),d=n("#redPlayer"),p=n("#bluePlayer");if(i&&s&&d&&p){if(d===p)return void alert("Very funny. Same players not allowed.");r={redPlayerScore:i,bluePlayerScore:s,redPlayer:d,bluePlayer:p}}}else{var t=n("#redTeamScore"),c=n("#blueTeamScore"),u=n("#redTeamOffense"),f=n("#blueTeamOffense"),g=n("#redTeamDefense"),y=n("#blueTeamDefense");if(t&&c&&u&&f&&g&&y){if(u===g||u===f||u===y||g===f||g===y||f===y)return void alert("Very funny. Same players not allowed.");r={redTeamScore:t,blueTeamScore:c,redTeamOffense:u,blueTeamOffense:f,redTeamDefense:g,blueTeamDefense:y}}}r&&(o.hide(),e.apiHub.server.postScore(l,r).done(function(){a(".player").val(""),a(".score").val("")}).always(function(){o.show()}).fail(function(e){alert("Post score failed.\n\n"+e)}))})}}(window.app=window.app||{},jQuery),function(e,a){var n=null;e.initSignalR=function(){e.apiHub=a.connection.apiHub,e.apiHub.client.leagueJoined=function(e){console.log("League "+e+" joined.")},e.apiHub.client.reloadStatistics=function(){console.log("relead stats, but from league hub.")}},e.connectSignalR=function(r,l){console.log("Connecting to SignalR ..."),a.connection.hub.start().done(function(){n&&e.apiHub.server.leaveLeague(n),e.apiHub.server.joinLeague(r).done(function(){console.log("League "+r+" joined."),l&&l()})})},e.apiHub=null}(window.app=window.app||{},jQuery),function(e,a){e.renderTeamRanking=function(n,r){n=a(n).addClass("ranking").addClass("team-ranking").html(""),a.each(r,function(r,l){var o=a("<li />");o.append(a('<a href="'+e.config.getPlayerUrl().replace("[id]",l.player1.id)+'"></a>').append(a("<img />").attr("src","data:image/png;base64,"+l.player1.image).addClass("ranking-image"))),o.append(a('<a href="'+e.config.getPlayerUrl().replace("[id]",l.player2.id)+'"></a>').append(a("<img />").attr("src","data:image/png;base64,"+l.player2.image).addClass("ranking-image"))),o.append(a("<div />").html(l.player1.name).addClass("ranking-name")),o.append(a("<div />").html(l.player2.name).addClass("ranking-name"));var i=a("<div />").addClass("ranking-score");i.append(a("<span />").html(l.wins).append('<span class="glyphicon glyphicon-thumbs-up" />').addClass("ranking-wins")),i.append(a("<span />").html(l.losses).append('<span class="glyphicon glyphicon-thumbs-down" />').addClass("ranking-losses")),o.append(i),n.append(o)})}}(window.app=window.app||{},jQuery);
//# sourceMappingURL=app.js.map